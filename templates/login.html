{% extends "base.html" %}

{% block title %}Login - Gancheng B&B{% endblock %}

{% block body %}
<body class="font-display antialiased text-slate-900 bg-background-light dark:bg-background-dark">
    <div class="min-h-screen flex items-center justify-center px-4 py-12">
        <div class="max-w-md w-full">
            <!-- Logo -->
            <div class="text-center mb-8">
                <a href="{{ url_for('index') }}" class="inline-flex items-center gap-3 mb-4">
                    <div class="size-10 text-primary">
                        <svg class="w-full h-full" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" d="M24 4H6V17.3333V30.6667H24V44H42V30.6667V17.3333H24V4Z" fill="currentColor" fill-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h1 class="text-2xl font-bold text-slate-900 dark:text-white">Gancheng B&B</h1>
                </a>
                <h2 class="text-xl font-semibold text-slate-900 dark:text-white mb-2">Welcome Back</h2>
                <p class="text-slate-600 dark:text-slate-300">Sign in to manage your bookings</p>
            </div>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="mb-4 p-4 rounded-lg {% if category == 'error' %}bg-red-50 text-red-800{% elif category == 'success' %}bg-green-50 text-green-800{% else %}bg-blue-50 text-blue-800{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <!-- Login Form -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-8">
                <form method="POST" action="{{ url_for('login') }}">
                    {{ form.hidden_tag() }}
                    
                    <div class="space-y-6">
                        <!-- Email -->
                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-900 dark:text-white mb-2">
                                Email Address
                            </label>
                            {{ form.email(class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent", placeholder="you@example.com") }}
                            {% if form.email.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.email.errors[0] }}</p>
                            {% endif %}
                        </div>

                        <!-- Password -->
                        <div>
                            <label for="password" class="block text-sm font-medium text-slate-900 dark:text-white mb-2">
                                Password
                            </label>
                            {{ form.password(class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent", placeholder="••••••••") }}
                            {% if form.password.errors %}
                                <p class="mt-1 text-sm text-red-600">{{ form.password.errors[0] }}</p>
                            {% endif %}
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="w-full bg-primary text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-primary/20">
                            Sign In
                        </button>
                    </div>
                </form>

                <!-- Links -->
                <div class="mt-6 text-center space-y-2">
                    <p class="text-sm text-slate-600 dark:text-slate-400">
                        Don't have an account? 
                        <a href="{{ url_for('register') }}" class="text-primary font-medium hover:underline">Sign up</a>
                    </p>
                    <p class="text-sm">
                        <a href="{{ url_for('index') }}" class="text-slate-600 dark:text-slate-400 hover:text-primary">← Back to Home</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
{% endblock %}
